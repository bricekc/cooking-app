<header class="header">
  <div class="header-container">
    <div class="logo" routerLink="/">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z"/>
        <line x1="6" y1="17" x2="18" y2="17"/>
      </svg>
      <span class="logo-text">Mes Recettes</span>
    </div>
    <nav class="nav">
      <a routerLink="/" class="nav-link">Recettes</a>
      @if (isLoggedIn()) {
        <div class="user-profile">
          <div class="user-avatar" (click)="toggleDropdown()">{{ getUserInitial() }}</div>
          @if (isDropdownOpen()) {
            <div class="dropdown-menu">
              <div class="dropdown-header">
                <div class="dropdown-avatar">{{ getUserInitial() }}</div>
                <span class="dropdown-username">{{ currentUser()?.username }}</span>
              </div>
              <div class="dropdown-divider"></div>
              <button class="dropdown-item" (click)="logout()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                  <polyline points="16 17 21 12 16 7"/>
                  <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                DÃ©connexion
              </button>
            </div>
          }
        </div>
      } @else {
        <a routerLink="/login" class="nav-link nav-link-login">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
          Connexion
        </a>
      }
    </nav>
  </div>
</header>
